version: '3.8'

services:
  rom-ai-bot:
    build: .
    restart: always
    environment:
      # Application Config
      - PORT=3001
      - NODE_ENV=production

      # Database Persistence (Internal Path)
      - DB_PATH=/app/data/database.sqlite

      # Secrets (To be filled in Coolify UI)
      - GOOGLE_CALENDAR_ID
      - GOOGLE_JSON_CREDENTIALS
      - GEMINI_API_KEY
      - WHATSAPP_PHONE_NUMBER_ID
      - WHATSAPP_TOKEN
      - VERIFY_TOKEN

    volumes:
      - rom_ai_data:/app/data
      - rom_ai_uploads:/app/uploads

    ports:
      - "3001:3001"

volumes:
  rom_ai_data:
  rom_ai_uploads:
